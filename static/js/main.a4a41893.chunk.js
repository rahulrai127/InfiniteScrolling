(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(t,e,a){t.exports=a(50)},27:function(t,e,a){},28:function(t,e,a){},50:function(t,e,a){"use strict";a.r(e);var n,r=a(0),o=a.n(r),c=a(4),s=a.n(c),i=(a(27),a(2)),l=a(3),d=a(5),u=a(6),h=a(8),p=a(7),m=a(9),f=(a(28),a(10)),b=a.n(f),g=a(20),S=a.n(g),k=o.a.Component,v=(s.a.render,{SUCCESS:"SUCCESS",ERROR:"ERROR",LOADING:"LOADING"}),w=function(t){function e(){var t;return Object(d.a)(this,e),(t=Object(h.a)(this,Object(p.a)(e).call(this))).starImage1=function(e){void 0===t.state.starred1[e]?t.setState(function(t){return{starred1:Object(l.a)({},t.starred1,Object(i.a)({},e,1))}}):t.setState(function(a){return{starred1:Object(l.a)({},a.starred1,Object(i.a)({},e,t.state.starred1[e]+1))}})},t.checkStarred1=function(e){return t.state.starred1[e]},t.starImage=function(e){void 0===t.state.starred[e]?t.setState(function(t){return{starred:Object(l.a)({},t.starred,Object(i.a)({},e,!0))}}):t.setState(function(a){return{starred:Object(l.a)({},a.starred,Object(i.a)({},e,!t.state.starred[e]))}})},t.checkStarred=function(e){return t.state.starred[e]},t.IncreaseCount=function(){var e=t.state,a=e.count;e.likeState;t.setState({count:a+1})},t.SearchBtnClick=function(e){e.preventDefault(),n=document.getElementById("search").value,t.state.updated=!!n;t.setState({photos:[]}),t.fetchPhotos(1),console.log("Button was clicked!")},t.state={photos:[],totalPhotos:0,updated:!1,perPage:8,currentPage:1,loadState:v.LOADING,count:0,starred:{},starred1:{}},t}return Object(m.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){}},{key:"fetchPhotos",value:function(t){var e=this,a=this,r=this.state.perPage,o=this.props,c=o.appId,s=o.baseUrl,i={params:{client_id:c,page:t,per_page:r,query:n}};1==this.state.updated?(s="https://api.unsplash.com/search/photos",b.a.get(s,i).then(function(n){for(var r=e.state.photos,o=0;o<8;o++)r.push(n.data.results[o]);a.setState(function(e){return{photos:r,totalPhotos:parseInt(n.headers["x-total"]),currentPage:t,loadState:v.SUCCESS}})}).catch(function(){e.setState({loadState:v.ERROR})})):(s="https://api.unsplash.com/photos/curated",b.a.get(s,i).then(function(n){for(var r=e.state.photos,o=0;o<8;o++)r.push(n.data[o]);a.setState({photos:r,totalPhotos:parseInt(n.headers["x-total"]),currentPage:t,loadState:v.SUCCESS})}).catch(function(){e.setState({loadState:v.ERROR})}))}},{key:"Enter",value:function(t){13===t.which&&(t.preventDefault(),document.getElementById("search-btn").click())}},{key:"render",value:function(){var t=this.state;t.count,t.likeState;return o.a.createElement("div",{className:"app"},o.a.createElement("div",null,o.a.createElement("input",{type:"text",onKeyPress:this.Enter.bind(this),placeholder:"Search",id:"search"}),o.a.createElement("button",{type:"button",id:"search-btn",className:"button",onClick:this.SearchBtnClick},o.a.createElement("img",{src:"http://www.clker.com/cliparts/n/U/H/1/H/u/search-icon-white-one-hi.png",width:"20px"}))),o.a.createElement(S.a,{pageStart:0,loadMore:this.fetchPhotos.bind(this),hasMore:!0,loader:o.a.createElement("div",null,"Loading ...")},o.a.createElement(O,{data:this.state.photos,count:this.state.count,likeState:this.state.likeState,increaseCount:this.IncreaseCount,starred:this.starred,starImage:this.starImage.bind(this),checkStarred:this.checkStarred.bind(this),starred1:this.starred1,starImage1:this.starImage1.bind(this),checkStarred1:this.checkStarred1.bind(this)})))}}]),e}(k),E=function(t){function e(){var t,a;Object(d.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).LikeBtnClick=function(t,e){e.preventDefault(),a.props.starImage(t),a.props.starImage1(t)},a}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.props,e=(t.count,t.photo);t.likeState,t.increaseCount,t.checkStarred;return o.a.createElement("div",{key:e.id,className:"grid__item card"},o.a.createElement("div",{className:"card__body"},o.a.createElement("img",{src:e.urls.small,alt:""})),o.a.createElement("div",{className:"card__footer media"},o.a.createElement("img",{src:e.user.profile_image.small,alt:"",className:"media__obj"}),o.a.createElement("div",{className:"media__body"},o.a.createElement("a",{href:e.user.portfolio_url,target:"_blank"},e.user.name),o.a.createElement("span",null,this.props.checkStarred(e.id)?o.a.createElement("button",{className:"btn2",onClick:this.LikeBtnClick.bind(this,e.id)},o.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Heart_coraz%C3%B3n.svg/1200px-Heart_coraz%C3%B3n.svg.png"})):o.a.createElement("button",{className:"btn1",onClick:this.LikeBtnClick.bind(this,e.id)},o.a.createElement("img",{src:"https://img.icons8.com/metro/420/like.png"})),this.props.checkStarred1(e.id)))))}}]),e}(k),O=function(t){function e(){return Object(d.a)(this,e),Object(h.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this,e=this.props,a=e.data,n=(e.count,e.increaseCount,a.map(function(e){return o.a.createElement(E,{likeState:t.props.likeState,increaseCount:t.props.increaseCount,count:t.props.count,photo:e,starred:t.starred,starImage:t.props.starImage.bind(t),starred1:t.starred1,starImage1:t.props.starImage1.bind(t),checkStarred1:t.props.checkStarred1.bind(t),checkStarred:t.props.checkStarred.bind(t)})}));return o.a.createElement("div",{className:"grid"},n)}}]),e}(k),C=w,j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(t,e){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var a=t.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}}).catch(function(t){console.error("Error during service worker registration:",t)})}s.a.render(o.a.createElement(C,{appId:"c28beea69eb8b62f16dcfd5d00a9703e578bb377babf88cc955236818c2ccf73"}),document.getElementById("mount-point")),function(t){if("serviceWorker"in navigator){if(new URL("/InfiniteScrolling",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/InfiniteScrolling","/service-worker.js");j?(function(t,e){fetch(t).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):I(t,e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e,t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):I(e,t)})}}()}},[[21,1,2]]]);
//# sourceMappingURL=main.a4a41893.chunk.js.map